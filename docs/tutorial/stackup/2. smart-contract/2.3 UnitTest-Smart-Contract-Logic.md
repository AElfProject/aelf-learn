---
sidebar_position: 3
---

# UnitTest Voting Smart Contract Logic

In this step, we will be writing the unit test of our voting smart contract in the **test/BuilderspTest.cs** file!

Add test method with the following code.

```csharp showLineNumbers
public class BuildersDAOTest : TestBase
    {
        [Fact]
        public async Task ProposalTest()
        {
            await HelloWorldStub.Initialize.SendAsync(new Empty());

            await HelloWorldStub.JoinDAO.SendAsync(Accounts[1].Address);
            await HelloWorldStub.JoinDAO.SendAsync(Accounts[2].Address);
            await HelloWorldStub.JoinDAO.SendAsync(Accounts[3].Address);

            var createProposalInput = new CreateProposalInput
            {
                Creator = Accounts[1].Address,
                Description = "proposal test",
                Title = "proposal test",
                VoteThreshold = 1
            };
            var proposal = await HelloWorldStub.CreateProposal.SendAsync(createProposalInput);
            
            var voteInput1 = new VoteInput
            {
                ProposalId = proposal.Output.Id,
                Vote = true,
                Voter = Accounts[1].Address
            };
            await HelloWorldStub.VoteOnProposal.SendAsync(voteInput1);
            var voteInput2 = new VoteInput
            {
                ProposalId = proposal.Output.Id,
                Vote = true,
                Voter = Accounts[2].Address
            };
            await HelloWorldStub.VoteOnProposal.SendAsync(voteInput2);
            var voteInput3 = new VoteInput
            {
                ProposalId = proposal.Output.Id,
                Vote = false,
                Voter = Accounts[3].Address
            };
            await HelloWorldStub.VoteOnProposal.SendAsync(voteInput3);
            
           var proposalResult = await HelloWorldStub.GetAllProposals.CallAsync(new Empty());
           proposalResult.Proposals[1].Id.ShouldBe(proposal.Output.Id);
           proposalResult.Proposals[1].YesVotes.ShouldContain(Accounts[1].Address);
           proposalResult.Proposals[1].YesVotes.ShouldContain(Accounts[2].Address);
           proposalResult.Proposals[1].NoVotes.ShouldContain(Accounts[3].Address);
        }
    }
```

After that, run ``dotnet test`` command to execute this unit test case, and check the result.
